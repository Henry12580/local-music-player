(()=>{"use strict";var e={298:e=>{e.exports=require("electron")},977:e=>{e.exports=require("node:fs/promises")},17:e=>{e.exports=require("path")}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={exports:{}};return e[r](i,i.exports,t),i.exports}(()=>{var e=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((r=r.apply(e,n||[])).next())}))};const{opendir:n,readFile:r}=t(977);const{app:o,BrowserWindow:i,ipcMain:a}=t(298),s=t(17),c=()=>{new i({width:520,height:650,webPreferences:{preload:s.join(__dirname,"preload.js")}}).loadFile("index.html")};var u={filePaths:[]};a.handle("add_path",((e,n)=>Buffer.from(JSON.stringify(function(e,n){const{filePaths:t}=e;return t.find((e=>e===n))?{success:!1,message:"Path already exists",payload:t.length}:{success:!0,payload:t.push(n)}}(u,n))))),a.handle("delete_path",((e,n)=>Buffer.from(JSON.stringify(function(e,n){try{return e.filePaths=e.filePaths.filter((e=>{for(const t of n)if(e===t)return!1;return!0})),{success:!0,payload:e.filePaths.length}}catch(n){return{success:!1,payload:e.filePaths.length}}}(u,n))))),a.handle("read_paths",(()=>Buffer.from(JSON.stringify(function(e){return{success:!0,payload:e.filePaths.slice()}}(u))))),a.handle("open_path",((t,r)=>{return o=void 0,i=void 0,s=function*(){const t=yield function(t){var r,o,i,a;return e(this,void 0,void 0,(function*(){try{const u=[],f=yield n(t);try{for(var e,s=!0,c=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(t){n[t]=e[t]&&function(n){return new Promise((function(r,o){!function(e,n,t,r){Promise.resolve(r).then((function(n){e({value:n,done:t})}),n)}(r,o,(n=e[t](n)).done,n.value)}))}}}(f);e=yield c.next(),!(r=e.done);){a=e.value,s=!1;try{const e=a;"._"===e.name.substring(0,2)?u.push(e.name.substring(2)):u.push(e.name)}finally{s=!0}}}catch(e){o={error:e}}finally{try{s||r||!(i=c.return)||(yield i.call(c))}finally{if(o)throw o.error}}return{success:!0,payload:u}}catch(e){return{success:!1,message:String(e)}}}))}(r);return JSON.stringify(t)},new((a=void 0)||(a=Promise))((function(e,n){function t(e){try{c(s.next(e))}catch(e){n(e)}}function r(e){try{c(s.throw(e))}catch(e){n(e)}}function c(n){var o;n.done?e(n.value):(o=n.value,o instanceof a?o:new a((function(e){e(o)}))).then(t,r)}c((s=s.apply(o,i||[])).next())}));var o,i,a,s})),a.handle("clear_paths",(()=>Buffer.from(JSON.stringify(function(e){try{return e.filePaths=[],{success:!0}}catch(e){return{success:!1,message:String(e)}}}(u))))),a.handle("read_file",((n,t)=>function(n){return e(this,void 0,void 0,(function*(){try{return yield r(n)}catch(e){return console.error(e),Buffer.from([])}}))}(t))),o.whenReady().then((()=>{c(),o.on("activate",(()=>{0===i.getAllWindows().length&&c()}))})),o.on("window-all-closed",(()=>{"darwin"!==process.platform&&o.quit()}))})()})();